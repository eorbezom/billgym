<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Inicio de sesiÃ³n</title>
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/formularioLoguin.css}">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>

	<div class="login-wrapper">
		<div class="login-header">
			<h2>Bienvenido al portal La Varesina SA ğŸ˜</h2>
			<h3>Por favor ingresa las credenciales</h3>
		</div>
		
		<!-- âœ… CORREGIDO: Sin th:object, solo name="" para Spring Security -->
		<form th:action="@{/login}" method="post">

			<div class="input-field">
				<!-- âœ… Usar name="usuario" en lugar de th:field -->
				<input type="text" 
					   id="usuario" 
					   name="usuario"
					   placeholder=" " 
					   required> 
				<label for="usuario">Usuario</label>
			</div>

			<div class="input-field">
				<!-- âœ… Usar name="password" en lugar de th:field -->
				<input type="password" 
					   id="password" 
					   name="password"
					   placeholder=" " 
					   required> 
				<label for="password">ContraseÃ±a</label>
			</div>

			<!-- âœ… Mostrar error de Spring Security -->
			<div th:if="${param.error}" class="alert alert-danger" role="alert">
				Usuario o contraseÃ±a incorrectos
			</div>
			
			<!-- âœ… Mostrar mensaje de logout -->
			<div th:if="${param.logout}" class="alert alert-success" role="alert">
				SesiÃ³n cerrada correctamente
			</div>

			<button type="submit" class="btn btn-primary">Ingresar</button>
		</form>

	</div>

	<script src="/js/bootstrap.bundle.min.js"></script>

</body>
</html>